#!/bin/bash

if [ $# -ne 2 ]; then
	echo "Usage: $0 <filename> <output path>"
	exit 1
fi

input_file="$1"
path="$2"

if [ ! -d $path ]; then
	echo "[!]Path does not exist. Creating for you......"
	mkdir "$path"
	echo "[+]Path created."
fi

while IFS= read -r line; do
	echo "[+] Processing $line"
	output_name="${line//./_}"
	wkhtmltoimage $line "$path/$output_name.jpg"
	echo "[+] $line processed"
done < "$input_file"
